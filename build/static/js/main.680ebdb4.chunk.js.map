{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["personApi","persons","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","remove","delete","Filter","filter","handleFilterChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","person","deleteHandler","name","number","onClick","Persons","includes","map","Notification","notification","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","text","App","useState","setPersons","setFilter","setNewName","setNewNumber","setNotification","showNotification","message","error","setTimeout","useEffect","event","target","preventDefault","findPersons","n","length","findPerson","window","confirm","personService","returnedPerson","concat","catch","personObject","console","log","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.680ebdb4.chunk.js","sourcesContent":["import axios from 'axios'\nconst personApi = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(personApi)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(personApi, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${personApi}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${personApi}/${id}`)\n  return request.then(response => response.data)\n}\nconst persons = { getAll, create, update, remove }\nexport default persons","import React from 'react'\n\nconst Filter = ({ filter, handleFilterChange }) => {\n\n    return (\n        <div>filter:  <input value={filter} onChange={handleFilterChange} />\n        </div>\n    )\n}\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({ \n    addPerson, \n    newName, handleNameChange,\n    newNumber, handleNumberChange }) => {\n    return (\n        <form onSubmit={addPerson}>\n            <div>name:  <input value={newName} onChange={handleNameChange} /></div>\n            <div>number: <input value={newNumber} onChange={handleNumberChange} /></div>\n            <div>\n                <button type=\"submit\" >add</button>\n            </div>\n        </form>\n    )\n}\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person, deleteHandler }) => {\n    return (\n        <div>{person.name} {person.number}<button onClick={()=>deleteHandler(person.id)}>delete</button></div>\n    )\n}\nexport default Person\n\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, filter, deleteHandler }) => {\n    return (\n        <ul>\n            {persons.filter(person => person.name.includes(filter)).map(person => <Person key={person.name} person={person} deleteHandler={deleteHandler} />)}\n        </ul>\n    )\n}\nexport default Persons","const Notification = ({ notification }) => {\n    const style = {\n        color: notification.type === 'error' ? 'red' : 'green',\n        background: 'lightgrey',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px'\n    }\n\n    if (notification.text === null) {\n        return null\n    }\n\n    return (\n        <div style={style}>\n            {notification.text}\n        </div>\n    )\n}\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nconst personApi = '/api/persons'\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filter, setFilter] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [notification, setNotification] = useState({ type: 'error', text: null })\n  const handleFilterChange = (event) => setFilter(event.target.value)\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const showNotification = (message, error) => {\n    setNotification({ type: error ? 'error' : 'notification', text: message })\n    setTimeout(() => {\n      setNotification({ ...notification, text: null })\n    }, 3000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    let findPersons = persons.filter(n => n.name === newName)\n    if (findPersons.length > 0) {\n      let findPerson = findPersons[0]\n      if (window.confirm(`${findPerson.name} is already added to phonebook, replace the old number with a new one?`)) {\n        personService\n          .update(findPerson.id, { ...findPerson, number: newNumber })\n          .then((returnedPerson) => {\n            setPersons(persons.filter(n => n.id !== findPerson.id).concat(returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            showNotification(`Updated ${returnedPerson.name}`)\n          }).catch(error => {\n            setPersons(persons.filter(n => n.id !== findPerson.id))\n            showNotification(`Information of ${newName} has already been removed from server`, true)\n          })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          showNotification(`Added ${returnedPerson.name}`)\n        }).catch(error => {\n          console.log(error.response.data)\n          showNotification(error.response.data.error, true)\n        })\n    }\n  }\n\n  const deleteHandler = id => {\n    if (window.confirm(`Delete ${persons.find(n => n.id === id).name}`)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(n => n.id !== id))\n          showNotification(`Deleted ${persons.find(n => n.id === id).name}`)\n        }).catch(error => {\n          setPersons(persons.filter(n => n.id !== id))\n          showNotification(`Information of ${newName} has already been removed from server`, true)\n        })\n    }\n  }\n\n  useEffect(() => {\n    axios\n      .get(personApi)\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook!</h2>\n      <Notification notification={notification} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h3>add new</h3>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Persons persons={persons} filter={filter} deleteHandler={deleteHandler} />\n    </div>\n  )\n}\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}